(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c2fbf230"],{"04ca":function(e,t,r){"use strict";r.d(t,"i",(function(){return o})),r.d(t,"j",(function(){return s})),r.d(t,"h",(function(){return c})),r.d(t,"k",(function(){return l})),r.d(t,"g",(function(){return u})),r.d(t,"a",(function(){return p})),r.d(t,"f",(function(){return f})),r.d(t,"e",(function(){return d})),r.d(t,"c",(function(){return m})),r.d(t,"d",(function(){return b})),r.d(t,"l",(function(){return g})),r.d(t,"b",(function(){return h}));r("99af");var a=r("b775"),n=r("e686"),i=r.n(n);function o(e,t,r,n,o){return Object(a["a"])({url:"".concat(i.a.ProxyUrl,"/").concat(e),method:"post",params:{pageNo:t,pageSize:r,type:n},data:o})}function s(e,t,r,n){return Object(a["a"])({url:"".concat(i.a.ProxyUrl,"/").concat(e),method:"post",params:{pageNo:t,pageSize:r},data:n})}function c(e,t,r,n){return Object(a["a"])({url:"".concat(i.a.ProxyUrl,"/").concat(e),method:"post",params:{pageNo:t,pageSize:r},data:n})}function l(e){return Object(a["a"])({url:"".concat(i.a.ProxyUrl,"/chargeMode/queryAllChargeName"),method:"post",params:e})}function u(e,t,r,n,o){return Object(a["a"])({url:"".concat(i.a.ProxyUrl,"/").concat(e),method:"post",params:{pageNo:t,pageSize:r,chargeModeName:n,type:o}})}function p(e){return Object(a["a"])({url:"".concat(i.a.ProxyUrl,"/chargeMode/saveChargeMode"),method:"post",data:e})}function f(){return Object(a["a"])({url:"".concat(i.a.ProxyUrl,"/api/getAllApi"),method:"post"})}function d(e,t){return Object(a["a"])({url:"".concat(i.a.ProxyUrl,"/").concat(e),method:"post",params:{email:t}})}function m(e){return Object(a["a"])({url:"".concat(i.a.ProxyUrl,"/chargeMode/delChargeMode/").concat(e),method:"delete"})}function b(e){return Object(a["a"])({url:"".concat(i.a.ProxyUrl,"/chargeMode/updateChargeMode"),method:"post",data:e})}function g(e,t){return Object(a["a"])({url:"".concat(i.a.ProxyUrl,"/chargeMode/update/").concat(e,"/").concat(t),method:"post"})}function h(e){return Object(a["a"])({url:"".concat(i.a.ProxyUrl,"/chargeMode/delChargeMode"),method:"delete",data:e})}},"0a69":function(e,t,r){"use strict";r.d(t,"g",(function(){return o})),r.d(t,"b",(function(){return s})),r.d(t,"a",(function(){return c})),r.d(t,"c",(function(){return l})),r.d(t,"h",(function(){return u})),r.d(t,"d",(function(){return p})),r.d(t,"e",(function(){return f})),r.d(t,"f",(function(){return d}));r("99af");var a=r("b775"),n=r("e686"),i=r.n(n);function o(){return Object(a["a"])({url:"".concat(i.a.ProxyUrl,"/api/getAllApi"),method:"post"})}function s(e){return Object(a["a"])({url:"".concat(i.a.ProxyUrl,"/api/findByApiInfo/").concat(e),method:"get"})}function c(e){return Object(a["a"])({url:"".concat(i.a.ProxyUrl,"/api/findApiFrequency"),method:"get",params:e})}function l(e){return Object(a["a"])({url:"".concat(i.a.ProxyUrl,"/api/findCustomerFrequency"),method:"get",params:e})}function u(e){return Object(a["a"])({url:"".concat(i.a.ProxyUrl,"/Inerface/interfaceAssociationScenarioByid/").concat(e),method:"get"})}function p(e,t){return Object(a["a"])({url:"".concat(i.a.ProxyUrl,"/Inerface/findInterfaceCountByid"),method:"post",params:t,data:e})}function f(){return Object(a["a"])({url:"".concat(i.a.ProxyUrl,"/Inerface/findInterfaceRelationAll"),method:"post"})}function d(e){var t=e.pageNo,r=e.pageSize;return Object(a["a"])({url:"".concat(i.a.ProxyUrl,"/Inerface/findInterfaceRelationPage/page"),method:"post",params:{pageNo:t,pageSize:r}})}},2909:function(e,t,r){"use strict";function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function n(e){if(Array.isArray(e))return a(e)}r.d(t,"a",(function(){return c}));r("a4d3"),r("e01a"),r("d3b7"),r("d28b"),r("3ca3"),r("ddb0"),r("a630");function i(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}r("fb6a"),r("b0c0"),r("ac1f"),r("00b4");function o(e,t){if(e){if("string"===typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,t):void 0}}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e){return n(e)||i(e)||o(e)||s()}},"2a31":function(e,t,r){"use strict";r("c557")},"466d":function(e,t,r){"use strict";var a=r("d784"),n=r("825a"),i=r("50c4"),o=r("1d80"),s=r("8aa5"),c=r("14c3");a("match",1,(function(e,t,r){return[function(t){var r=o(this),a=void 0==t?void 0:t[e];return void 0!==a?a.call(t,r):new RegExp(t)[e](String(r))},function(e){var a=r(t,e,this);if(a.done)return a.value;var o=n(e),l=String(this);if(!o.global)return c(o,l);var u=o.unicode;o.lastIndex=0;var p,f=[],d=0;while(null!==(p=c(o,l))){var m=String(p[0]);f[d]=m,""===m&&(o.lastIndex=s(l,i(o.lastIndex),u)),d++}return 0===d?null:f}]}))},"4df4":function(e,t,r){"use strict";var a=r("0366"),n=r("7b0b"),i=r("9bdd"),o=r("e95a"),s=r("50c4"),c=r("8418"),l=r("35a1");e.exports=function(e){var t,r,u,p,f,d,m=n(e),b="function"==typeof this?this:Array,g=arguments.length,h=g>1?arguments[1]:void 0,v=void 0!==h,y=l(m),L=0;if(v&&(h=a(h,g>2?arguments[2]:void 0,2)),void 0==y||b==Array&&o(y))for(t=s(m.length),r=new b(t);t>L;L++)d=v?h(m[L],L):m[L],c(r,L,d);else for(p=y.call(m),f=p.next,r=new b;!(u=f.call(p)).done;L++)d=v?i(p,h,[u.value,L],!0):u.value,c(r,L,d);return r.length=L,r}},7156:function(e,t,r){var a=r("861d"),n=r("d2bb");e.exports=function(e,t,r){var i,o;return n&&"function"==typeof(i=t.constructor)&&i!==r&&a(o=i.prototype)&&o!==r.prototype&&n(e,o),e}},a15b:function(e,t,r){"use strict";var a=r("23e7"),n=r("44ad"),i=r("fc6a"),o=r("a640"),s=[].join,c=n!=Object,l=o("join",",");a({target:"Array",proto:!0,forced:c||!l},{join:function(e){return s.call(i(this),void 0===e?",":e)}})},a434:function(e,t,r){"use strict";var a=r("23e7"),n=r("23cb"),i=r("a691"),o=r("50c4"),s=r("7b0b"),c=r("65f0"),l=r("8418"),u=r("1dde"),p=r("ae40"),f=u("splice"),d=p("splice",{ACCESSORS:!0,0:0,1:2}),m=Math.max,b=Math.min,g=9007199254740991,h="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!f||!d},{splice:function(e,t){var r,a,u,p,f,d,v=s(this),y=o(v.length),L=n(e,y),x=arguments.length;if(0===x?r=a=0:1===x?(r=0,a=y-L):(r=x-2,a=b(m(i(t),0),y-L)),y+r-a>g)throw TypeError(h);for(u=c(v,a),p=0;p<a;p++)f=L+p,f in v&&l(u,p,v[f]);if(u.length=a,r<a){for(p=L;p<y-a;p++)f=p+a,d=p+r,f in v?v[d]=v[f]:delete v[d];for(p=y;p>y-a+r;p--)delete v[p-1]}else if(r>a)for(p=y-a;p>L;p--)f=p+a-1,d=p+r-1,f in v?v[d]=v[f]:delete v[d];for(p=0;p<r;p++)v[p+L]=arguments[p+2];return v.length=y-a+r,u}})},a630:function(e,t,r){var a=r("23e7"),n=r("4df4"),i=r("1c7e"),o=!i((function(e){Array.from(e)}));a({target:"Array",stat:!0,forced:o},{from:n})},a9e3:function(e,t,r){"use strict";var a=r("83ab"),n=r("da84"),i=r("94ca"),o=r("6eeb"),s=r("5135"),c=r("c6b6"),l=r("7156"),u=r("c04e"),p=r("d039"),f=r("7c73"),d=r("241c").f,m=r("06cf").f,b=r("9bf2").f,g=r("58a8").trim,h="Number",v=n[h],y=v.prototype,L=c(f(y))==h,x=function(e){var t,r,a,n,i,o,s,c,l=u(e,!1);if("string"==typeof l&&l.length>2)if(l=g(l),t=l.charCodeAt(0),43===t||45===t){if(r=l.charCodeAt(2),88===r||120===r)return NaN}else if(48===t){switch(l.charCodeAt(1)){case 66:case 98:a=2,n=49;break;case 79:case 111:a=8,n=55;break;default:return+l}for(i=l.slice(2),o=i.length,s=0;s<o;s++)if(c=i.charCodeAt(s),c<48||c>n)return NaN;return parseInt(i,a)}return+l};if(i(h,!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var O,N=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof N&&(L?p((function(){y.valueOf.call(r)})):c(r)!=h)?l(new v(x(t)),r,N):x(t)},w=a?d(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),A=0;w.length>A;A++)s(v,O=w[A])&&!s(N,O)&&b(N,O,m(v,O));N.prototype=y,y.constructor=N,o(n,h,N)}},c557:function(e,t,r){},d28b:function(e,t,r){var a=r("746f");a("iterator")},e01a:function(e,t,r){"use strict";var a=r("23e7"),n=r("83ab"),i=r("da84"),o=r("5135"),s=r("861d"),c=r("9bf2").f,l=r("e893"),u=i.Symbol;if(n&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var p={},f=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof f?new u(e):void 0===e?u():u(e);return""===e&&(p[t]=!0),t};l(f,u);var d=f.prototype=u.prototype;d.constructor=f;var m=d.toString,b="Symbol(test)"==String(u("test")),g=/^Symbol\((.*)\)[^)]+$/;c(d,"description",{configurable:!0,get:function(){var e=s(this)?this.valueOf():this,t=m.call(e);if(o(p,e))return"";var r=b?t.slice(7,-1):t.replace(g,"$1");return""===r?void 0:r}}),a({global:!0,forced:!0},{Symbol:f})}},e5c8:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-row",[r("el-col",{attrs:{span:24}},[r("el-tabs",{model:{value:e.activeLabel,callback:function(t){e.activeLabel=t},expression:"activeLabel"}},e._l(e.tabOption,(function(e){return r("el-tab-pane",{key:e.value,attrs:{label:e.value>1?e.label+(Number(e.value)-1):e.label,name:e.value}})})),1)],1)],1),r("el-card",{directives:[{name:"show",rawName:"v-show",value:"1"===e.activeLabel,expression:"activeLabel==='1'"}],staticClass:"box-card",attrs:{shadow:"never"}},[r("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[r("span",[e._v("基础信息")])]),r("el-form",{ref:"supplier",staticClass:"demo-supplier",attrs:{size:"mini",model:e.supplier,"label-width":"120px"}},[r("el-row",[r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:" 供应商名称",prop:"supplierName",rules:{required:!0,message:"不能为空",trigger:"blur"}}},[r("el-input",{attrs:{disabled:e.isOld},model:{value:e.supplier.supplierName,callback:function(t){e.$set(e.supplier,"supplierName","string"===typeof t?t.trim():t)},expression:"supplier.supplierName"}})],1)],1),r("el-col",{attrs:{span:8,offset:2}},[r("el-form-item",{attrs:{label:"营业执照注册号",prop:"businessNumber",rules:{required:!0,message:"联系人不能为空",trigger:"blur"}}},[r("el-input",{attrs:{disabled:e.isOld},model:{value:e.supplier.businessNumber,callback:function(t){e.$set(e.supplier,"businessNumber","string"===typeof t?t.trim():t)},expression:"supplier.businessNumber"}})],1)],1)],1),e._l(e.supplier.contactList,(function(t,a){return r("el-row",{key:t.key},[r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"联系人"+(0!==a?a:""),prop:"contactList."+a+".contacts",rules:{required:!0,message:"联系人不能为空",trigger:"blur"}}},[r("div",{staticStyle:{display:"flex"}},[r("el-input",{model:{value:t.contacts,callback:function(r){e.$set(t,"contacts","string"===typeof r?r.trim():r)},expression:"contactList.contacts"}}),a?r("el-button",{staticClass:"el-icon-remove-outline",staticStyle:{padding:"5px"},attrs:{type:"text"},on:{click:function(r){return r.preventDefault(),e.removeDomain(t)}}}):e._e(),0===a?r("el-button",{staticClass:"el-icon-circle-plus-outline",staticStyle:{padding:"5px"},attrs:{type:"text"},on:{click:function(t){return t.preventDefault(),e.addDomain()}}}):e._e()],1)])],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"联系电话"+(0!==a?a:""),prop:"contactList."+a+".contactsNumber",rules:{required:!0,validator:e.validatePhone,trigger:"blur"}}},[r("el-input",{attrs:{placeholder:"可输入多个手机号，用','隔开"},model:{value:t.contactsNumber,callback:function(r){e.$set(t,"contactsNumber","string"===typeof r?r.trim():r)},expression:"contactList.contactsNumber"}})],1)],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"联系邮箱"+(0!==a?a:""),prop:"contactList."+a+".email",rules:{required:!0,validator:e.validateEmail,trigger:"blur"}}},[r("el-input",{attrs:{placeholder:"可输入多个邮箱，用','隔开"},model:{value:t.email,callback:function(r){e.$set(t,"email","string"===typeof r?r.trim():r)},expression:"contactList.email"}})],1)],1)],1)}))],2)],1),e._l(e.cooperationLists,(function(t,a){return r("div",{key:t.key},[r("div",{directives:[{name:"show",rawName:"v-show",value:e.activeLabel===String(a+2),expression:"activeLabel===String(index+2)"}]},[r("el-card",{staticClass:"box-card",attrs:{shadow:"never"}},[r("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[r("span",[e._v("合作信息"+e._s(a+1))]),a&&!t.isOld?r("span",{staticStyle:{"margin-left":"5px"}},[r("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(t){return e.removeCooperationList(a)}}},[e._v("删除合同")])],1):e._e()]),r("el-form",{ref:"cooperationList",refInFor:!0,staticClass:"demo-cooperationList",attrs:{model:t,rules:e.cooperationRules,"label-width":"120px",size:"mini"}},[r("el-row",[r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"合作方式"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:t.cooperationMod,callback:function(r){e.$set(t,"cooperationMod",r)},expression:"cooperationList.cooperationMod"}},[r("el-option",{attrs:{label:"外采服务",value:"外采服务"}}),r("el-option",{attrs:{label:"联合",value:"联合"}})],1)],1)],1),r("el-col",{attrs:{span:8,offset:2}},[r("el-form-item",{attrs:{label:"合同编号",prop:"cooperationNumber"}},[r("el-input",{attrs:{placeholder:"请输入",disabled:t.isOld},model:{value:t.cooperationNumber,callback:function(r){e.$set(t,"cooperationNumber","string"===typeof r?r.trim():r)},expression:"cooperationList.cooperationNumber"}})],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"合同生效日期",prop:"startTime"}},[r("el-date-picker",{attrs:{disabled:t.isOld,type:"datetime",placeholder:"选择日期","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:t.startTime,callback:function(r){e.$set(t,"startTime",r)},expression:"cooperationList.startTime"}})],1)],1),r("el-col",{attrs:{span:6,offset:2}},[r("el-form-item",{attrs:{label:"合同期限",prop:"cooperationTerm"}},[r("el-select",{attrs:{placeholder:"请选择",disabled:t.isOld},model:{value:t.cooperationTerm,callback:function(r){e.$set(t,"cooperationTerm",r)},expression:"cooperationList.cooperationTerm"}},[r("el-option",{attrs:{label:"半年",value:6}}),r("el-option",{attrs:{label:"1年",value:12}}),r("el-option",{attrs:{label:"2年",value:24}}),r("el-option",{attrs:{label:"3年",value:36}})],1)],1)],1),r("el-col",{attrs:{span:6,offset:2}},[r("el-form-item",{attrs:{label:"合同状态"}},[r("el-select",{attrs:{placeholder:"请选择",disabled:t.isOld},model:{value:t.cooperationState,callback:function(r){e.$set(t,"cooperationState",r)},expression:"cooperationList.cooperationState"}},[r("el-option",{attrs:{label:"合作中",value:"合作中"}}),r("el-option",{attrs:{label:"即将过期",value:"即将过期"}}),r("el-option",{attrs:{label:"续期评估中",value:"续期评估中"}}),r("el-option",{attrs:{label:"合作终止",value:"合作终止"}}),r("el-option",{attrs:{label:"已续期",value:"已续期"}})],1)],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"结算周期",prop:"settleAccountsCycle"}},[r("el-select",{attrs:{placeholder:"请选择",disabled:t.isOld},on:{change:function(t){return e.settleAccountsCycleChange(a)}},model:{value:t.settleAccountsCycle,callback:function(r){e.$set(t,"settleAccountsCycle",r)},expression:"cooperationList.settleAccountsCycle"}},[r("el-option",{attrs:{label:"月结",value:"月结"}}),r("el-option",{attrs:{label:"季结",value:"季结"}}),r("el-option",{attrs:{label:"年结",value:"年结"}})],1)],1)],1),r("el-col",{attrs:{span:6,offset:2}},[r("el-form-item",{attrs:{label:"结算日期",prop:"settleAccountsDay"}},[r("el-input",{attrs:{placeholder:"请输入",disabled:t.isOld},model:{value:t.settleAccountsDay,callback:function(r){e.$set(t,"settleAccountsDay","string"===typeof r?r.trim():r)},expression:"cooperationList.settleAccountsDay"}})],1)],1)],1)],1)],1),e._l(t.interfaceLists,(function(t,n){return r("div",{key:t.key},[r("el-card",{staticClass:"box-card",attrs:{shadow:"never"}},[r("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[r("span",[e._v("服务信息"+e._s(0!==n?n:""))]),r("span",{staticStyle:{"margin-left":"5px"}},[r("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(t){return e.addInterfaceList(a)}}},[e._v("新增服务")])],1),n&&!t.isOld?r("span",{staticStyle:{"margin-left":"5px"}},[r("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(t){return e.removeInterfaceList(a,n)}}},[e._v("删除服务")])],1):e._e()]),r("el-form",{ref:"interfaceList",refInFor:!0,staticClass:"demo-interfaceList",attrs:{model:t,rules:e.interfaceRules,"label-width":"120px",size:"mini"}},[r("el-row",[r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:" 服务范围",prop:"serviceRange"}},[r("el-select",{attrs:{placeholder:"请选择"},on:{change:function(r){return e.serviceRangeChange(a,n,t.serviceRange)}},model:{value:t.serviceRange,callback:function(r){e.$set(t,"serviceRange",r)},expression:"interfaceList.serviceRange"}},[r("el-option",{attrs:{label:"通用标签",value:"通用标签"}}),r("el-option",{attrs:{label:"定制化标签",value:"定制化标签"}})],1)],1)],1),r("el-col",{attrs:{span:6,offset:2}},[r("el-form-item",{attrs:{label:"服务具体内容",prop:"serviceMsg"}},[r("el-select",{staticClass:"cursor-text",attrs:{placeholder:"请选择",filterable:"","allow-create":"","default-first-option":"",disabled:"通用标签"===t.serviceRange},model:{value:t.serviceMsg,callback:function(r){e.$set(t,"serviceMsg",r)},expression:"interfaceList.serviceMsg"}},e._l(e.serviceMsgOption,(function(e){return r("el-option",{key:e.apiName,attrs:{label:e.apiName,value:e.apiName}})})),1)],1)],1),r("el-col",{attrs:{span:6,offset:2}},[r("el-form-item",{attrs:{label:"费用标准",prop:"lablePrice"}},[r("el-input",{attrs:{type:"number",min:"0",oninput:"if(value == null || value<0)value=0"},on:{input:function(t){return e.limitInputS(a,n)}},model:{value:t.lablePrice,callback:function(r){e.$set(t,"lablePrice","string"===typeof r?r.trim():r)},expression:"interfaceList.lablePrice"}})],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"登录账号",prop:"account"}},[r("el-input",{attrs:{disabled:t.isOld},model:{value:t.account,callback:function(r){e.$set(t,"account","string"===typeof r?r.trim():r)},expression:"interfaceList.account"}})],1)],1),r("el-col",{attrs:{span:6,offset:2}},[r("el-form-item",{attrs:{label:"登录密钥",prop:"password"}},[r("el-input",{attrs:{type:"password",disabled:t.isOld},model:{value:t.password,callback:function(r){e.$set(t,"password","string"===typeof r?r.trim():r)},expression:"interfaceList.password"}})],1)],1),r("el-col",{attrs:{span:6,offset:"2"}},[r("el-form-item",{attrs:{label:"接口类型",prop:"interfaceType"}},[r("el-input",{attrs:{disabled:t.isOld},model:{value:t.interfaceType,callback:function(r){e.$set(t,"interfaceType","string"===typeof r?r.trim():r)},expression:"interfaceList.interfaceType"}})],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"接口名称",prop:"interfaceName"}},[r("el-input",{attrs:{disabled:t.isOld},model:{value:t.interfaceName,callback:function(r){e.$set(t,"interfaceName","string"===typeof r?r.trim():r)},expression:"interfaceList.interfaceName"}})],1)],1),r("el-col",{attrs:{span:6,offset:2}},[r("el-form-item",{attrs:{label:"接口地址",prop:"interfaceAddress"}},[r("el-input",{attrs:{width:"100%",disabled:t.isOld},model:{value:t.interfaceAddress,callback:function(r){e.$set(t,"interfaceAddress","string"===typeof r?r.trim():r)},expression:"interfaceList.interfaceAddress"}})],1)],1),r("el-col",{attrs:{span:6,offset:2}},[r("el-form-item",{attrs:{label:"接口描述"}},[r("el-input",{attrs:{disabled:t.isOld},model:{value:t.describes,callback:function(r){e.$set(t,"describes","string"===typeof r?r.trim():r)},expression:"interfaceList.describes"}})],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"计费模式",prop:"chargingMod"}},[r("el-select",{attrs:{placeholder:"请选择"},on:{change:function(r){return e.charginModChangeS(a,n,t.chargingMod)}},model:{value:t.chargingMod,callback:function(r){e.$set(t,"chargingMod",r)},expression:"interfaceList.chargingMod"}},e._l(e.chargingModOption,(function(e,t){return r("el-option",{key:t,attrs:{label:e.chargeName,value:e.chargeName}})})),1)],1)],1),r("el-col",{attrs:{span:6,offset:2}},[r("el-form-item",{attrs:{label:"计费协议",prop:"agreement"},model:{value:t.agreement,callback:function(r){e.$set(t,"agreement",r)},expression:"interfaceList.agreement"}},[r("el-input",{attrs:{placeholder:"请输入",disabled:""},model:{value:t.agreement,callback:function(r){e.$set(t,"agreement",r)},expression:"interfaceList.agreement"}})],1)],1)],1)],1)],1)],1)}))],2)])})),r("div",{staticStyle:{"margin-top":"10px"}},[r("el-button",{on:{click:e.addCooperationList}},[e._v("新增合同")]),r("el-button",{on:{click:function(t){return e.submitForm()}}},[e._v("提交")])],1)],2)},n=[],i=r("5530"),o=r("2909"),s=r("1da1"),c=(r("ac1f"),r("1276"),r("466d"),r("a15b"),r("a434"),r("d81d"),r("e9c4"),r("a9e3"),r("00b4"),r("96cf"),r("a6b9")),l=r("04ca"),u=r("0a69"),p={props:{isOld:{type:Boolean,default:!0},cooperationLists:{type:Array,default:function(){return[{agreement:"",chargingMod:"",chargingStandard:"",cooperationMod:"",cooperationNumber:"",settleAccountsCycle:"",settleAccountsDay:"",cooperationState:"",cooperationTerm:"",startTime:"",type:1,interfaceLists:[{account:"",cooperationNum:"",describes:"",interfaceAddress:"",interfaceName:"",interfaceType:"",password:"",resources:1,serviceMsg:"",serviceRange:"",lablePrice:""}]}]}},supplier:{type:Object,default:function(){return{type:1,businessNumber:"",supplierName:"",contactList:[{contacts:"",contactsNumber:"",email:""}]}}}},data:function(){return{show:!0,supplierInfo:JSON.parse(localStorage.getItem("supplierInfo")),id:null,activeLabel:"1",tabOption:[{label:"基础信息",value:"1"}],delectContactList:[],chargingModOption:[],serviceMsgOption:[],copyCooperationLists:[],cooperationRules:{cooperationNumber:[{required:!0,message:"不能为空",trigger:"blur"},{max:20,message:"最长为20个字符",trigger:"blur"}],startTime:[{required:!0,message:"不能为空",trigger:"blur"}],settleAccountsCycle:[{required:!0,message:"不能为空"}],settleAccountsDay:[{required:!0,message:"不能为空",trigger:"change"}],cooperationTerm:[{required:!0,message:"不能为空"}],chargingMod:[{required:!0,message:"不能为空"}],chargingStandard:[{required:!0,message:"不能为空或输入格式不正确",trigger:"blur"}]},interfaceLists:[{account:"",cooperationNum:"",describes:"",interfaceAddress:"",interfaceName:"",interfaceType:"",password:"",resources:1,serviceMsg:"",serviceRange:"",lablePrice:"",chargingMod:"",agreement:""}],interfaceRules:{serviceRange:[{required:!0,message:"不能为空"}],serviceMsg:[{required:!0,message:"不能为空",trigger:"change"}],lablePrice:[{required:!0,message:"不能为空或输入格式不正确",trigger:"blur"}],account:[{required:!0,message:"不能为空",trigger:"blur"}],password:[{required:!0,message:"不能为空",trigger:"blur"}],interfaceName:[{required:!0,message:"不能为空",trigger:"blur"}],interfaceType:[{required:!0,message:"不能为空",trigger:"blur"}],interfaceAddress:[{required:!0,message:"不能为空",trigger:"blur"}],chargingMod:[{required:!0,message:"不能为空"}]}}},created:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(e.$props),e.copyCooperationLists=e.deepCopy(e.cooperationLists),t.next=4,Object(l["k"])({type:"供应商"});case 4:return e.chargingModOption=t.sent,t.next=7,Object(u["e"])();case 7:e.serviceMsgOption=t.sent,e.init();case 9:case"end":return t.stop()}}),t)})))()},methods:{limitInputS:function(e,t){if(console.log("111"),console.log(this.cooperationLists[e].interfaceLists[t].lablePrice),""!==this.cooperationLists[e].interfaceLists[t].lablePrice)if(0!==this.cooperationLists[e].interfaceLists[t].lablePrice.indexOf(".")){var r=this.cooperationLists[e].interfaceLists[t].lablePrice.split("");this.cooperationLists[e].interfaceLists[t].lablePrice=r.join("").match(/^\d+(\.\d{1,2})?/g)[0]||null}else this.cooperationLists[e].interfaceLists[t].lablePrice=0},init:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.id=e.$route.params&&e.$route.params.id;case 1:case"end":return t.stop()}}),t)})))()},removeDomain:function(e){var t=this,r=this.supplier.contactList.indexOf(e);console.log(r),-1!==r&&(this.supplier.contactList[r].contacts||this.supplier.contactList[r].contactsNumber||this.supplier.contactList[r].email?this.$confirm("是否删除联系人","确认信息",{distinguishCancelAndClose:!0,confirmButtonText:"删除",cancelButtonText:"放弃删除",lockScroll:!1}).then((function(){t.supplier.contactList[r].isOld&&t.delectContactList.push(t.supplier.contactList[r].contactId),t.supplier.contactList.splice(r,1)})).catch((function(){})):this.supplier.contactList.splice(r,1))},addDomain:function(){this.supplier.contactList.push({contacts:"",contactsNumber:"",email:"",key:Date.now()})},submitForm:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r,a,n,s,l,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=!0,a=[],e.cooperationLists.map((function(t,n){console.log(t.interfaceLists),t.interfaceLists.map((function(e){e.index=n})),a.push.apply(a,Object(o["a"])(t.interfaceLists)),e.$refs.cooperationList[n].validate((function(t){t||(r&&(e.activeLabel=String(n+2)),r=!1)}))})),e.interfaceLists=a,e.interfaceLists.map((function(t,a){t.isOld||e.$refs.interfaceList[a].validate((function(a){a||(r&&(e.activeLabel=String(t.index+2)),r=!1)}))})),e.$refs.supplier.validate((function(t){t||(e.activeLabel="1",r=!1)})),r?(n=e.supplier.contactList,s=e.deepCopy(e.supplier),s=Object(i["a"])(Object(i["a"])(Object(i["a"])({},s),n[0]),{},{id:e.id}),l=e.deepCopy(e.cooperationLists),u=[],l.map((function(e){e.key&&delete e.key,e.interfaceLists.map((function(t){t.cooperationNum=e.cooperationNumber,t.key&&delete t.key})),u.push.apply(u,Object(o["a"])(e.interfaceLists)),delete e.interfaceLists})),delete s.contactList,e.delectContactList.length&&e.delectContactList.map((function(t){Object(c["e"])(t).then().catch((function(){e.$message.error("联系人删除错误")}))})),e.$emit("submit",{contactList:n,cooperationList:l,interfaceList:u,supplier:s})):e.$message.error("表单未完成,无法提交");case 7:case"end":return t.stop()}}),t)})))()},settleAccountsCycleChange:function(e){var t=this.cooperationLists[e].settleAccountsCycle;"月结"===t&&(this.cooperationLists[e].settleAccountsDay="次月5号"),"季结"===t&&(this.cooperationLists[e].settleAccountsDay="次季首月5号"),"年结"===t&&(this.cooperationLists[e].settleAccountsDay="自然年次年首月5号")},serviceRangeChange:function(e,t,r){"通用标签"===r&&(this.cooperationLists[e].interfaceLists[t].serviceMsg="通用标签查询")},charginModChangeS:function(e,t,r){var a=this;this.chargingModOption.map((function(n){n.chargeName===r&&(a.cooperationLists[e].interfaceLists[t].agreement=n.chargeDescribe)}))},deepCopy:function(e){return JSON.parse(JSON.stringify(e))},resetForm:function(e){this.$refs[e].resetFields()},removeInterfaceList:function(e,t){this.cooperationLists[e].interfaceLists.splice(t,1)},removeCooperationList:function(e){this.cooperationLists.splice(e,1),this.tabOption.splice(e+1,1),this.tabOption.map((function(t,r){r>e&&(t.value=String(Number(t.value)-1))})),Number(this.activeLabel)>this.tabOption.length&&(this.activeLabel=String(Number(this.activeLabel)-1))},addCooperationList:function(){this.tabOption.push({label:"合作信息",value:String(this.tabOption.length+1)}),this.activeLabel=String(this.tabOption.length),this.cooperationLists.push(Object(i["a"])(Object(i["a"])({},this.copyCooperationLists[0]),{},{interfaceLists:this.deepCopy(this.interfaceLists),key:Date.now()}))},addInterfaceList:function(e){this.cooperationLists[e].interfaceLists.push(Object(i["a"])(Object(i["a"])({},this.interfaceLists[0]),{},{key:Date.now()}))},validatePhone:function(e,t,r){""===t&&r(new Error("至少输入一个手机号"));for(var a=t.split(/,|，/),n=0;n<a.length;n++){/^1[3-9]\d{9}$/.test(a[n])?r():r(new Error("输入格式有误"));for(var i=n+1;i<a.length;i++)a[n]===a[i]?r(new Error("请勿输入相同的手机号")):r()}},validateEmail:function(e,t,r){""===t&&r(new Error("至少输入一个邮箱地址"));for(var a=t.split(/,|，/),n=0;n<a.length;n++){/^([a-zA-Z]|[0-9])(\w|\-)+@[a-zA-Z0-9]+\.([a-zA-Z]{2,4})$/.test(a[n])?r():r(new Error("输入格式有误"));for(var i=n+1;i<a.length;i++)a[n]===a[i]?r(new Error("请勿输入相同的邮箱地址")):r()}},formatDate:function(e){var t=e.getFullYear(),r=e.getMonth()+1;r=r<10?"0"+r:r;var a=e.getDate();return a=a<10?"0"+a:a,t+"-"+r+"-"+a}}},f=p,d=(r("2a31"),r("2877")),m=Object(d["a"])(f,a,n,!1,null,"14b7a3e8",null);t["a"]=m.exports},fb6a:function(e,t,r){"use strict";var a=r("23e7"),n=r("861d"),i=r("e8b5"),o=r("23cb"),s=r("50c4"),c=r("fc6a"),l=r("8418"),u=r("b622"),p=r("1dde"),f=r("ae40"),d=p("slice"),m=f("slice",{ACCESSORS:!0,0:0,1:2}),b=u("species"),g=[].slice,h=Math.max;a({target:"Array",proto:!0,forced:!d||!m},{slice:function(e,t){var r,a,u,p=c(this),f=s(p.length),d=o(e,f),m=o(void 0===t?f:t,f);if(i(p)&&(r=p.constructor,"function"!=typeof r||r!==Array&&!i(r.prototype)?n(r)&&(r=r[b],null===r&&(r=void 0)):r=void 0,r===Array||void 0===r))return g.call(p,d,m);for(a=new(void 0===r?Array:r)(h(m-d,0)),u=0;d<m;d++,u++)d in p&&l(a,u,p[d]);return a.length=u,a}})}}]);