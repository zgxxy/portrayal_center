(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d681e"],{"739e":function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("CustomerForm",{ref:"customerForm",attrs:{cooperation:t.cooperationLists,customer:t.customer},on:{submit:t.submit}})},r=[],s=o("5530"),a=o("1da1"),c=(o("96cf"),o("a9e3"),o("d81d"),o("e9c4"),o("d0be")),i=o("f6b0"),u={components:{CustomerForm:c["a"]},data:function(){return{customer:{abbreviation:"",userKey:"",name:"",contactList:[{contacts:"",contactsNumber:"",email:""}]},cooperationLists:[{agreement:"",chargingMod:"",chargingStandard:"",settleAccountsCycle:"",settleAccountsDay:"",cooperationMod:"",cooperationNumber:"",cooperationState:"",cooperationTerm:"",startTime:"",apiInfoLists:[{account:"",cooperationNum:"",cooperationTerm:"",cooperationState:"",chargingMod:"",password:"",belongScene:"",email:"",apiId:"",note:""}]}]}},mounted:function(){this.init()},methods:{init:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var o,n,r,a,c,i,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:void 0!==t.$route.query.index&&(t.activeLabel=String(Number(t.$route.query.index)+2)),t.$store.state.customer.customerInfo.contact||t.$store.dispatch("customer/getCustomerInfoById",t.$route.params.id),t.customerInfo=t.deepCopy(t.$store.state.customer.customerInfo),o=t.customerInfo,n=o.contact,r=o.customer,n.map((function(t){t.isOld=!0})),r.contactList=n,t.customer=Object(s["a"])(Object(s["a"])({},t.customer),r),a=t.customerInfo,c=a.apiAssociativeInfoVoList,i=a.cooperationList,t.apiInfoLists=t.deepCopy(c),u=[],i.map((function(e,o){t.$refs.customerForm.tabOption.push({label:"合作信息",value:String(t.$refs.customerForm.tabOption.length+1)}),u.push(Object(s["a"])(Object(s["a"])({},t.cooperationLists[0]),e)),t.cooperationLists=u})),t.cooperationLists.map((function(e,o){var n=[];e.isOld=!0,c.map((function(o,r){e.cooperationNumber===o.cooperationNum&&(n.push(Object(s["a"])(Object(s["a"])(Object(s["a"])({},t.apiInfoLists[0]),o),{},{isOld:!0})),e.apiInfoLists=n)}))})),t.cooperationLists.map((function(t,e){t.apiInfoLists.map((function(t,e){t.isOld=!0,t.note=t.apiMsg}))}));case 13:case"end":return e.stop()}}),e)})))()},submit:function(t,e){var o=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(console.log(t),e){n.next=6;break}return n.next=4,Object(i["h"])(t);case 4:n.next=8;break;case 6:return n.next=8,Object(i["a"])(t);case 8:o.$message({type:"success",message:"操作成功"}),o.$router.push("/customer");case 10:case"end":return n.stop()}}),n)})))()},deepCopy:function(t){return JSON.parse(JSON.stringify(t))}}},m=u,p=o("2877"),f=Object(p["a"])(m,n,r,!1,null,null,null);e["default"]=f.exports}}]);